
## 线程安全

1、竞态条件：当两个线程竞争同一资源时，如果对资源的访问顺序敏感，就称存在竞态条件

2、临界区：导致竞态条件发生的代码区称作临界区
    
### 实现Java线程安全的方式：
    1、加锁：synchronized关键字、java.util.concurrent.locks包中的锁
    2、封装竞态条件：使用java.util.concurrent.atomic 包中的原子类，例如AtomicInteger、线程安全的集合ConcurrentHashMap
    3、使用volatile关键字，保证变量的可见性
    
### 共享对象线程安全策略
    1、线程封闭（对象的生命周期范围处于线程生命周期内，即不会逃逸，如：方法中的不会逃逸的StringBuilder）
    2、只读共享（final修饰）
    3、线程安全共享（由对象本身保证线程安全，如：同步容器、并发容器等）
    4、保护对象（通过锁机制来保护）
    